# Global settings applied to the whole site.
#
# “publish” is the directory to publish (relative to root of your repo),
# “command” is your build command,
[build]
  publish = "docs/.vuepress/dist"
  command = "rm -rf node_modules && rm -rf package-lock.json && yarn && yarn build:docs"

# Deploy Preview context
#
# All deploys resulting from a pull/merge request will
# inherit these settings.
[context.deploy-preview]
  publish = "docs/.vuepress/dist"
  command = "rm -rf node_modules && rm -rf package-lock.json && yarn && yarn build:preview"

# Branch Deploy context: all deploys that are not from a pull/merge request or
# from the Production branch will inherit these settings.
[context.branch-deploy]
  base = "/"
  command = "rm -rf node_modules && rm -rf package-lock.json && yarn && yarn build:preview"

# Redirects
# @see https://www.netlify.com/docs/netlify-toml-reference/
[[redirects]]
  from = "/guide/templating"
  to = "/guide/slots"
